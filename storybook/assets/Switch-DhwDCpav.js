import{r as x,a4 as w,j as D}from"./iframe-DEJbD2oy.js";import{a as m,$ as T,k as F,l as V,g as q,d as A}from"./utils-CwP798Ad.js";import{a as H,b as C,d as M,c as U}from"./useFocusRing-IYzfTN5l.js";import{$ as z}from"./useControlledState-CkwDlHfx.js";import{$ as B}from"./useFormReset-Dg4_psDp.js";import{a as O}from"./usePress-CRWvi72o.js";import{$ as G}from"./VisuallyHidden-DMBu9vb4.js";import{u as J}from"./useStyles-DRxUPOZ5.js";function K(a,e,t){let{isDisabled:s=!1,isReadOnly:d=!1,value:l,name:r,form:i,children:o,"aria-label":y,"aria-labelledby":g,validationState:f="valid",isInvalid:$,onPressStart:u,onPressEnd:b,onPressChange:v,onPress:c,onPressUp:S,onClick:p}=a,h=n=>{n.stopPropagation(),e.setSelected(n.target.checked)},{pressProps:P,isPressed:E}=O({onPressStart:u,onPressEnd:b,onPressChange:v,onPress:c,onPressUp:S,onClick:p,isDisabled:s}),{pressProps:N,isPressed:_}=O({onPressStart:u,onPressEnd:b,onPressChange:v,onPressUp:S,onClick:p,onPress(n){var R;c?.(n),e.toggle(),(R=t.current)===null||R===void 0||R.focus()},isDisabled:s||d}),{focusableProps:I}=H(a,t),j=m(P,I),L=C(a,{labelable:!0});return B(t,e.defaultSelected,e.setSelected),{labelProps:m(N,{onClick:n=>n.preventDefault()}),inputProps:m(L,{"aria-invalid":$||f==="invalid"||void 0,"aria-errormessage":a["aria-errormessage"],"aria-controls":a["aria-controls"],"aria-readonly":d||void 0,onChange:h,disabled:s,...l==null?{}:{value:l},name:r,form:i,type:"checkbox",...j}),isSelected:e.isSelected,isPressed:E||_,isDisabled:s,isReadOnly:d,isInvalid:$||f==="invalid"}}function Q(a={}){let{isReadOnly:e}=a,[t,s]=z(a.isSelected,a.defaultSelected||!1,a.onChange),[d]=x.useState(t);function l(o){e||s(o)}function r(){e||s(!t)}var i;return{isSelected:t,defaultSelected:(i=a.defaultSelected)!==null&&i!==void 0?i:d,setSelected:l,toggle:r}}function W(a,e,t){let{labelProps:s,inputProps:d,isSelected:l,isPressed:r,isDisabled:i,isReadOnly:o}=K(a,e,t);return{labelProps:s,inputProps:{...d,role:"switch",checked:l},isSelected:l,isPressed:r,isDisabled:i,isReadOnly:o}}const X=x.createContext(null),Y=x.forwardRef(function(e,t){let{inputRef:s=null,...d}=e;[e,t]=T(d,t,X);let l=F(V(s,e.inputRef!==void 0?e.inputRef:null)),r=Q(e),{labelProps:i,inputProps:o,isSelected:y,isDisabled:g,isReadOnly:f,isPressed:$}=W({...q(e),children:typeof e.children=="function"?!0:e.children},r,l),{isFocused:u,isFocusVisible:b,focusProps:v}=M(),c=e.isDisabled||e.isReadOnly,{hoverProps:S,isHovered:p}=U({...e,isDisabled:c}),h=A({...e,defaultClassName:"react-aria-Switch",values:{isSelected:y,isPressed:$,isHovered:p,isFocused:u,isFocusVisible:b,isDisabled:g,isReadOnly:f,state:r}}),P=C(e,{global:!0});return delete P.id,delete P.onClick,w.createElement("label",{...m(P,i,S,h),ref:t,slot:e.slot||void 0,"data-selected":y||void 0,"data-pressed":$||void 0,"data-hovered":p||void 0,"data-focused":u||void 0,"data-focus-visible":b||void 0,"data-disabled":g||void 0,"data-readonly":f||void 0},w.createElement(G,{elementType:"span"},w.createElement("input",{...m(o,v),ref:l})),h.children)}),k=x.forwardRef(({label:a,...e},t)=>{const{classNames:s}=J("Switch");return D.jsxs(Y,{className:s.root,ref:t,...e,children:[D.jsx("div",{className:s.indicator}),a]})});k.displayName="Switch";k.__docgenInfo={description:"@public",methods:[],displayName:"Switch",props:{label:{required:!1,tsType:{name:"string"},description:"The label of the switch"}},composes:["AriaSwitchProps"]};export{K as $,k as S,Q as a};
