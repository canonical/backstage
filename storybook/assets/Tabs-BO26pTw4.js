import{r as c,a4 as p,j as y}from"./iframe-DEJbD2oy.js";import{$ as V,a as q,b as B,c as W,d as U,e as G,f as M,g as L,h as J,i as Q,j as X}from"./useListState-QzhkFfgA.js";import{j as Y,a as K,c as Z,$ as ee,d as w,h as H,k as D,e as te}from"./utils-CwP798Ad.js";import{$ as ae,b as re,a as se}from"./SelectionIndicator-B1oE9DQ7.js";import{$ as ne}from"./Hidden-NnHMGWod.js";import{b as P,a as ie,d as E,c as le}from"./useFocusRing-IYzfTN5l.js";import{$ as oe}from"./useControlledState-CkwDlHfx.js";import{c as de,$ as ce}from"./usePress-CRWvi72o.js";import{$ as I}from"./useLabels-DlztAgz4.js";import{$ as ue}from"./context-BZTTEocf.js";import{u as T}from"./useStyles-DRxUPOZ5.js";import{b as be,u as fe,c as ve}from"./index-CODaiViJ.js";function $e(a,t){let e=t?.isDisabled,[r,s]=c.useState(!1);return Y(()=>{if(a?.current&&!e){let o=()=>{if(a.current){let u=ae(a.current,{tabbable:!0});s(!!u.nextNode())}};o();let n=new MutationObserver(o);return n.observe(a.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{n.disconnect()}}}),e?!1:r}const A=new WeakMap;function S(a,t,e){return a?(typeof t=="string"&&(t=t.replace(/\s+/g,"")),`${A.get(a)}-${e}-${t}`):""}function pe(a,t,e){let{key:r,isDisabled:s,shouldSelectOnPressUp:o}=a,{selectionManager:n,selectedKey:u}=t,i=r===u,d=s||t.isDisabled||t.selectionManager.isDisabled(r),{itemProps:b,isPressed:l}=V({selectionManager:n,key:r,ref:e,isDisabled:d,shouldSelectOnPressUp:o,linkBehavior:"selection"}),f=S(t,r,"tab"),v=S(t,r,"tabpanel"),{tabIndex:h}=b,$=t.collection.getItem(r),x=P($?.props,{labelable:!0});delete x.id;let R=de($?.props),{focusableProps:m}=ie({isDisabled:d},e);return{tabProps:K(x,m,R,b,{id:f,"aria-selected":i,"aria-disabled":d||void 0,"aria-controls":i?v:void 0,tabIndex:d?void 0:h,role:"tab"}),isSelected:i,isDisabled:d,isPressed:l}}function he(a,t,e){let r=$e(e)?void 0:0;var s;const o=S(t,(s=a.id)!==null&&s!==void 0?s:t?.selectedKey,"tabpanel"),n=I({...a,id:o,"aria-labelledby":S(t,t?.selectedKey,"tab")});return{tabPanelProps:K(n,{tabIndex:r,role:"tabpanel","aria-describedby":a["aria-describedby"],"aria-details":a["aria-details"]})}}class ye{getKeyLeftOf(t){return this.flipDirection?this.getNextKey(t):this.getPreviousKey(t)}getKeyRightOf(t){return this.flipDirection?this.getPreviousKey(t):this.getNextKey(t)}isDisabled(t){var e,r;return this.disabledKeys.has(t)||!!(!((r=this.collection.getItem(t))===null||r===void 0||(e=r.props)===null||e===void 0)&&e.isDisabled)}getFirstKey(){let t=this.collection.getFirstKey();return t!=null&&this.isDisabled(t)&&(t=this.getNextKey(t)),t}getLastKey(){let t=this.collection.getLastKey();return t!=null&&this.isDisabled(t)&&(t=this.getPreviousKey(t)),t}getKeyAbove(t){return this.tabDirection?null:this.getPreviousKey(t)}getKeyBelow(t){return this.tabDirection?null:this.getNextKey(t)}getNextKey(t){let e=t;do e=this.collection.getKeyAfter(e),e==null&&(e=this.collection.getFirstKey());while(e!=null&&this.isDisabled(e));return e}getPreviousKey(t){let e=t;do e=this.collection.getKeyBefore(e),e==null&&(e=this.collection.getLastKey());while(e!=null&&this.isDisabled(e));return e}constructor(t,e,r,s=new Set){this.collection=t,this.flipDirection=e==="rtl"&&r==="horizontal",this.disabledKeys=s,this.tabDirection=r==="horizontal"}}function me(a,t,e){let{orientation:r="horizontal",keyboardActivation:s="automatic"}=a,{collection:o,selectionManager:n,disabledKeys:u}=t,{direction:i}=ue(),d=c.useMemo(()=>new ye(o,i,r,u),[o,u,r,i]),{collectionProps:b}=q({ref:e,selectionManager:n,keyboardDelegate:d,selectOnFocus:s==="automatic",disallowEmptySelection:!0,scrollRef:e,linkBehavior:"selection"}),l=Z();A.set(t,l);let f=I({...a,id:l});return{tabListProps:{...K(b,f),role:"tablist","aria-orientation":r,tabIndex:void 0}}}function xe(a){var t;let[e,r]=oe(a.selectedKey,(t=a.defaultSelectedKey)!==null&&t!==void 0?t:null,a.onSelectionChange),s=c.useMemo(()=>e!=null?[e]:[],[e]),{collection:o,disabledKeys:n,selectionManager:u}=B({...a,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:s,onSelectionChange:d=>{if(d==="all")return;var b;let l=(b=d.values().next().value)!==null&&b!==void 0?b:null;l===e&&a.onSelectionChange&&a.onSelectionChange(l),r(l)}}),i=e!=null?o.getItem(e):null;return{collection:o,disabledKeys:n,selectionManager:u,selectedKey:e,setSelectedKey:r,selectedItem:i}}function ge(a){var t,e;let r=xe({...a,onSelectionChange:a.onSelectionChange?i=>{var d;i!=null&&((d=a.onSelectionChange)===null||d===void 0||d.call(a,i))}:void 0,suppressTextValueWarning:!0,defaultSelectedKey:(e=(t=a.defaultSelectedKey)!==null&&t!==void 0?t:N(a.collection,a.disabledKeys?new Set(a.disabledKeys):new Set))!==null&&e!==void 0?e:void 0}),{selectionManager:s,collection:o,selectedKey:n}=r,u=c.useRef(n);return c.useEffect(()=>{let i=n;a.selectedKey==null&&(s.isEmpty||i==null||!o.getItem(i))&&(i=N(o,r.disabledKeys),i!=null&&s.setSelectedKeys([i])),(i!=null&&s.focusedKey==null||!s.isFocused&&i!==u.current)&&s.setFocusedKey(i),u.current=i}),{...r,isDisabled:a.isDisabled||!1}}function N(a,t){let e=null;if(a){var r,s,o,n;for(e=a.getFirstKey();e!=null&&(t.has(e)||!((s=a.getItem(e))===null||s===void 0||(r=s.props)===null||r===void 0)&&r.isDisabled)&&e!==a.getLastKey();)e=a.getKeyAfter(e);e!=null&&(t.has(e)||!((n=a.getItem(e))===null||n===void 0||(o=n.props)===null||o===void 0)&&o.isDisabled)&&e===a.getLastKey()&&(e=a.getFirstKey())}return e}const C=c.createContext(null),g=c.createContext(null),Ke=c.forwardRef(function(t,e){[t,e]=ee(t,e,C);let{children:r,orientation:s="horizontal"}=t;return r=c.useMemo(()=>typeof r=="function"?r({orientation:s,defaultChildren:null}):r,[r,s]),p.createElement(W,{content:r},o=>p.createElement(Pe,{props:t,collection:o,tabsRef:e}))});function Pe({props:a,tabsRef:t,collection:e}){let{orientation:r="horizontal"}=a,s=ge({...a,collection:e,children:void 0}),{focusProps:o,isFocused:n,isFocusVisible:u}=E({within:!0}),i=c.useMemo(()=>({orientation:r,isFocusWithin:n,isFocusVisible:u}),[r,n,u]),d=w({...a,defaultClassName:"react-aria-Tabs",values:i}),b=P(a,{global:!0});return p.createElement("div",{...K(b,d,o),ref:t,slot:a.slot||void 0,"data-focused":n||void 0,"data-orientation":r,"data-focus-visible":u||void 0,"data-disabled":s.isDisabled||void 0},p.createElement(H,{values:[[C,a],[g,s]]},d.children))}const Te=c.forwardRef(function(t,e){return c.useContext(g)?p.createElement(Se,{props:t,forwardedRef:e}):p.createElement(G,t)});function Se({props:a,forwardedRef:t}){let e=c.useContext(g),{CollectionRoot:r}=c.useContext(L),{orientation:s="horizontal",keyboardActivation:o="automatic"}=te(C),n=D(t),{tabListProps:u}=me({...a,orientation:s,keyboardActivation:o},e,n),i=w({...a,children:null,defaultClassName:"react-aria-TabList",values:{orientation:s,state:e}}),d=P(a,{global:!0});return delete d.id,p.createElement("div",{...K(d,i,u),ref:n,"data-orientation":s||void 0},p.createElement(se,null,p.createElement(r,{collection:e.collection,persistedKeys:Q(e.selectionManager.focusedKey)})))}class j extends X{}j.type="item";const we=U(j,(a,t,e)=>{let r=c.useContext(g),s=D(t),{tabProps:o,isSelected:n,isDisabled:u,isPressed:i}=pe({key:e.key,...a},r,s),{focusProps:d,isFocused:b,isFocusVisible:l}=E(),{hoverProps:f,isHovered:v}=le({isDisabled:u,onHoverStart:a.onHoverStart,onHoverEnd:a.onHoverEnd,onHoverChange:a.onHoverChange}),h=w({...a,id:void 0,children:e.rendered,defaultClassName:"react-aria-Tab",values:{isSelected:n,isDisabled:u,isFocused:b,isFocusVisible:l,isPressed:i,isHovered:v}}),$=e.props.href?"a":"div",x=P(a,{global:!0});return delete x.id,delete x.onClick,p.createElement($,{...K(x,h,o,d,f),ref:s,"data-selected":n||void 0,"data-disabled":u||void 0,"data-focused":b||void 0,"data-focus-visible":l||void 0,"data-pressed":i||void 0,"data-hovered":v||void 0},p.createElement(re.Provider,{value:{isSelected:n}},h.children))}),Ce=ne(function(t,e){const r=c.useContext(g);let s=D(e),{id:o,...n}=t,{tabPanelProps:u}=he(t,r,s),{focusProps:i,isFocused:d,isFocusVisible:b}=E(),l=r.selectedKey===t.id,f=w({...t,defaultClassName:"react-aria-TabPanel",values:{isFocused:d,isFocusVisible:b,isInert:M(!l),state:r}});if(!l&&!t.shouldForceMount)return null;let v=P(n,{global:!0});delete v.id;let h=l?K(v,u,i,f):f;return p.createElement("div",{...h,ref:s,"data-focused":d||void 0,"data-focus-visible":b||void 0,inert:M(!l||t.inert),"data-inert":l?void 0:"true"},p.createElement(H,{values:[[C,null],[g,null]]},p.createElement(L.Provider,{value:J},f.children)))}),F=a=>{const{tabRefs:t,tabsRef:e,hoveredKey:r,prevHoveredKey:s}=a,{classNames:o}=T("Tabs"),n=c.useContext(g),u=c.useRef(null),i=c.useCallback(()=>{if(!e.current)return;const d=e.current.getBoundingClientRect();if(n?.selectedKey){const b=t.current.get(n.selectedKey.toString());if(b){const l=b.getBoundingClientRect(),f=l.left-d.left,v=l.top-d.top;u.current===null?(e.current.style.setProperty("--active-transition-duration","0s"),requestAnimationFrame(()=>{e.current&&e.current.style.setProperty("--active-transition-duration","0.25s")})):e.current.style.setProperty("--active-transition-duration","0.25s"),u.current=n.selectedKey.toString(),e.current.style.setProperty("--active-tab-left",`${f}px`),e.current.style.setProperty("--active-tab-right",`${f+l.width}px`),e.current.style.setProperty("--active-tab-top",`${v}px`),e.current.style.setProperty("--active-tab-bottom",`${v+l.height}px`),e.current.style.setProperty("--active-tab-width",`${l.width}px`),e.current.style.setProperty("--active-tab-height",`${l.height}px`)}}if(r){const b=t.current.get(r);if(b){const l=b.getBoundingClientRect(),f=l.left-d.left,v=l.top-d.top;e.current.style.setProperty("--hovered-tab-left",`${f}px`),e.current.style.setProperty("--hovered-tab-right",`${f+l.width}px`),e.current.style.setProperty("--hovered-tab-top",`${v}px`),e.current.style.setProperty("--hovered-tab-bottom",`${v+l.height}px`),e.current.style.setProperty("--hovered-tab-width",`${l.width}px`),e.current.style.setProperty("--hovered-tab-height",`${l.height}px`),s.current===null?(e.current.style.setProperty("--hovered-transition-duration","0s"),requestAnimationFrame(()=>{e.current&&e.current.style.setProperty("--hovered-transition-duration","0.2s")})):e.current.style.setProperty("--hovered-transition-duration","0.2s"),s.current=r,e.current.style.setProperty("--hovered-tab-opacity","1")}}else e.current.style.setProperty("--hovered-tab-opacity","0"),s.current=null},[n?.selectedKey,r,t.current]);return c.useEffect(()=>{i()},[i,t.current.size]),c.useEffect(()=>{const d=()=>i();return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[i]),y.jsxs(y.Fragment,{children:[y.jsx("div",{className:o.tabActive}),y.jsx("div",{className:o.tabHovered})]})};F.__docgenInfo={description:`A component that renders the indicators for the toolbar.

@internal`,methods:[],displayName:"TabsIndicators",props:{tabRefs:{required:!0,tsType:{name:"MutableRefObject",elements:[{name:"Map",elements:[{name:"string"},{name:"HTMLDivElement"}],raw:"Map<string, HTMLDivElement>"}],raw:"MutableRefObject<Map<string, HTMLDivElement>>"},description:""},tabsRef:{required:!0,tsType:{name:"MutableRefObject",elements:[{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}]}],raw:"MutableRefObject<HTMLDivElement | null>"},description:""},hoveredKey:{required:!0,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},prevHoveredKey:{required:!0,tsType:{name:"MutableRefObject",elements:[{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]}],raw:"MutableRefObject<string | null>"},description:""}}};const O=c.createContext(void 0),k=()=>{const a=c.useContext(O);if(!a)throw new Error("Tab components must be used within a Tabs component");return a},De=(a,t,e)=>e==="exact"?a===t:a===t?!0:t.startsWith(`${a}/`),Ee=a=>{const{children:t,...e}=a,{classNames:r}=T("Tabs"),s=c.useRef(null),o=c.useRef(new Map),[n,u]=c.useState(null),i=c.useRef(null);let d=be();const b=fe(),l=(h,$)=>{$?o.current.set(h,$):o.current.delete(h)},f=(()=>{const h=c.Children.toArray(t);for(const $ of h)if(c.isValidElement($)&&$.type===_){const x=c.Children.toArray($.props.children);for(const m of x)if(c.isValidElement(m)&&m.props.href){const z=m.props.matchStrategy||"exact";if(De(m.props.href,b.pathname,z))return m.props.id}return x.every(m=>c.isValidElement(m)&&m.props.href)?null:void 0}})();if(!t)return null;const v={tabsRef:s,tabRefs:o,hoveredKey:n,prevHoveredKey:i,setHoveredKey:u,setTabRef:l};return y.jsx(O.Provider,{value:v,children:y.jsx(ce,{navigate:d,useHref:ve,children:y.jsx(Ke,{className:r.tabs,keyboardActivation:"manual",selectedKey:f,ref:s,...e,children:t})})})},_=a=>{const{children:t,...e}=a,{classNames:r}=T("Tabs"),{setHoveredKey:s,tabRefs:o,tabsRef:n,hoveredKey:u,prevHoveredKey:i}=k(),d=l=>{s(l)},b=c.Children.map(t,l=>c.isValidElement(l)?c.cloneElement(l,{onHoverStart:()=>d(l.props.id),onHoverEnd:()=>d(null)}):l);return y.jsxs("div",{className:r.tabListWrapper,children:[y.jsx(Te,{className:r.tabList,"aria-label":"Toolbar tabs",...e,children:b}),y.jsx(F,{tabRefs:o,tabsRef:n,hoveredKey:u,prevHoveredKey:i})]})},Re=a=>{const{href:t,children:e,id:r,matchStrategy:s,...o}=a,{classNames:n}=T("Tabs"),{setTabRef:u}=k();return y.jsx(we,{id:r,className:n.tab,ref:i=>u(r,i),href:t,...o,children:e})},Me=a=>{const{children:t,...e}=a,{classNames:r}=T("Tabs");return y.jsx(Ce,{className:r.panel,...e,children:t})};Ee.__docgenInfo={description:`A component that renders a list of tabs.

@public`,methods:[],displayName:"Tabs",composes:["AriaTabsProps"]};_.__docgenInfo={description:`A component that renders a list of tabs.

@public`,methods:[],displayName:"TabList",composes:["Omit"]};Re.__docgenInfo={description:`A component that renders a tab.

@public`,methods:[],displayName:"Tab",props:{matchStrategy:{required:!1,tsType:{name:"union",raw:"'exact' | 'prefix'",elements:[{name:"literal",value:"'exact'"},{name:"literal",value:"'prefix'"}]},description:`Strategy for matching the current route to determine if this tab should be active.
- 'exact': Tab href must exactly match the current pathname (default)
- 'prefix': Tab is active if current pathname starts with tab href`}},composes:["AriaTabProps"]};Me.__docgenInfo={description:`A component that renders the content of a tab.

@public`,methods:[],displayName:"TabPanel",composes:["AriaTabPanelProps"]};export{$e as $,Ee as T,_ as a,Re as b,Me as c};
