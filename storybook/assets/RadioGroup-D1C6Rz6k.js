import{r as b,a4 as h,j as M}from"./iframe-DEJbD2oy.js";import{a as V,c as A,$ as O,e as H,f as K,d as _,h as U,k as z,l as J,g as Q}from"./utils-CwP798Ad.js";import{f as X,e as Y,d as Z,a as ee,b as ae,c as ie,F as le}from"./FieldError-DAhZRq-l.js";import{a as de}from"./Label-DqbhCeka.js";import{$ as re,a as te,b as oe}from"./SelectionIndicator-B1oE9DQ7.js";import{a as se,b as N,$ as ne,e as ce,d as fe,c as ue}from"./useFocusRing-IYzfTN5l.js";import{$ as be}from"./useControlledState-CkwDlHfx.js";import{$ as $e}from"./context-BZTTEocf.js";import{$ as ve}from"./useFormReset-Dg4_psDp.js";import{a as L}from"./usePress-CRWvi72o.js";import{$ as me}from"./VisuallyHidden-DMBu9vb4.js";import{c as B}from"./clsx-B-dksMZM.js";import{F as pe}from"./FieldLabel-zeC436Mp.js";import{u as k}from"./useStyles-DRxUPOZ5.js";const G=new WeakMap;function xe(a,e,d){let{value:l,children:c,"aria-label":r,"aria-labelledby":$,onPressStart:i,onPressEnd:s,onPressChange:n,onPress:t,onPressUp:o,onClick:f}=a;const v=a.isDisabled||e.isDisabled;let P=e.selectedValue===l,R=D=>{D.stopPropagation(),e.setSelectedValue(l)},{pressProps:y,isPressed:I}=L({onPressStart:i,onPressEnd:s,onPressChange:n,onPress:t,onPressUp:o,onClick:f,isDisabled:v}),{pressProps:q,isPressed:g}=L({onPressStart:i,onPressEnd:s,onPressChange:n,onPressUp:o,onClick:f,isDisabled:v,onPress(D){var S;t?.(D),e.setSelectedValue(l),(S=d.current)===null||S===void 0||S.focus()}}),{focusableProps:E}=se(V(a,{onFocus:()=>e.setLastFocusedValue(l)}),d),x=V(y,E),u=N(a,{labelable:!0}),m=-1;e.selectedValue!=null?e.selectedValue===l&&(m=0):(e.lastFocusedValue===l||e.lastFocusedValue==null)&&(m=0),v&&(m=void 0);let{name:p,form:F,descriptionId:j,errorMessageId:W,validationBehavior:C}=G.get(e);return ve(d,e.defaultSelectedValue,e.setSelectedValue),X({validationBehavior:C},e,d),{labelProps:V(q,b.useMemo(()=>({onClick:D=>D.preventDefault(),onMouseDown:D=>D.preventDefault()}),[])),inputProps:V(u,{...x,type:"radio",name:p,form:F,tabIndex:m,disabled:v,required:e.isRequired&&C==="native",checked:P,value:l,onChange:R,"aria-describedby":[a["aria-describedby"],e.isInvalid?W:null,j].filter(Boolean).join(" ")||void 0}),isDisabled:v,isSelected:P,isPressed:I||g}}function Re(a,e){let{name:d,form:l,isReadOnly:c,isRequired:r,isDisabled:$,orientation:i="vertical",validationBehavior:s="aria"}=a,{direction:n}=$e(),{isInvalid:t,validationErrors:o,validationDetails:f}=e.displayValidation,{labelProps:v,fieldProps:P,descriptionProps:R,errorMessageProps:y}=Y({...a,labelElementType:"span",isInvalid:e.isInvalid,errorMessage:a.errorMessage||o}),I=N(a,{labelable:!0}),{focusWithinProps:q}=ne({onBlurWithin(x){var u;(u=a.onBlur)===null||u===void 0||u.call(a,x),e.selectedValue||e.setLastFocusedValue(null)},onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange}),g=x=>{let u;switch(x.key){case"ArrowRight":n==="rtl"&&i!=="vertical"?u="prev":u="next";break;case"ArrowLeft":n==="rtl"&&i!=="vertical"?u="next":u="prev";break;case"ArrowDown":u="next";break;case"ArrowUp":u="prev";break;default:return}x.preventDefault();let m=re(x.currentTarget,{from:x.target,accept:F=>F instanceof ce(F).HTMLInputElement&&F.type==="radio"}),p;u==="next"?(p=m.nextNode(),p||(m.currentNode=x.currentTarget,p=m.firstChild())):(p=m.previousNode(),p||(m.currentNode=x.currentTarget,p=m.lastChild())),p&&(p.focus(),e.setSelectedValue(p.value))},E=A(d);return G.set(e,{name:E,form:l,descriptionId:R.id,errorMessageId:y.id,validationBehavior:s}),{radioGroupProps:V(I,{role:"radiogroup",onKeyDown:g,"aria-invalid":e.isInvalid||void 0,"aria-errormessage":a["aria-errormessage"],"aria-readonly":c||void 0,"aria-required":r||void 0,"aria-disabled":$||void 0,"aria-orientation":i,...P,...q}),labelProps:v,descriptionProps:R,errorMessageProps:y,isInvalid:t,validationErrors:o,validationDetails:f}}let Pe=Math.round(Math.random()*1e10),ye=0;function he(a){let e=b.useMemo(()=>a.name||`radio-group-${Pe}-${++ye}`,[a.name]);var d;let[l,c]=be(a.value,(d=a.defaultValue)!==null&&d!==void 0?d:null,a.onChange),[r]=b.useState(l),[$,i]=b.useState(null),s=Z({...a,value:l}),n=f=>{!a.isReadOnly&&!a.isDisabled&&(c(f),s.commitValidation())},t=s.displayValidation.isInvalid;var o;return{...s,name:e,selectedValue:l,defaultSelectedValue:a.value!==void 0?r:(o=a.defaultValue)!==null&&o!==void 0?o:null,setSelectedValue:n,lastFocusedValue:$,setLastFocusedValue:i,isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isRequired:a.isRequired||!1,validationState:a.validationState||(t?"invalid":null),isInvalid:t}}const Ve=b.createContext(null),ge=b.createContext(null),T=b.createContext(null),De=b.forwardRef(function(e,d){[e,d]=O(e,d,Ve);let{validationBehavior:l}=H(ee)||{};var c,r;let $=(r=(c=e.validationBehavior)!==null&&c!==void 0?c:l)!==null&&r!==void 0?r:"native",i=he({...e,validationBehavior:$}),[s,n]=K(!e["aria-label"]&&!e["aria-labelledby"]),{radioGroupProps:t,labelProps:o,descriptionProps:f,errorMessageProps:v,...P}=Re({...e,label:n,validationBehavior:$},i),R=_({...e,values:{orientation:e.orientation||"vertical",isDisabled:i.isDisabled,isReadOnly:i.isReadOnly,isRequired:i.isRequired,isInvalid:i.isInvalid,state:i},defaultClassName:"react-aria-RadioGroup"}),y=N(e,{global:!0});return h.createElement("div",{...V(y,R,t),ref:d,slot:e.slot||void 0,"data-orientation":e.orientation||"vertical","data-invalid":i.isInvalid||void 0,"data-disabled":i.isDisabled||void 0,"data-readonly":i.isReadOnly||void 0,"data-required":i.isRequired||void 0},h.createElement(U,{values:[[T,i],[de,{...o,ref:s,elementType:"span"}],[ae,{slots:{description:f,errorMessage:v}}],[ie,P]]},h.createElement(te,null,R.children)))}),Ie=b.forwardRef(function(e,d){let{inputRef:l=null,...c}=e;[e,d]=O(c,d,ge);let r=h.useContext(T),$=z(b.useMemo(()=>J(l,e.inputRef!==void 0?e.inputRef:null),[l,e.inputRef])),{labelProps:i,inputProps:s,isSelected:n,isDisabled:t,isPressed:o}=xe({...Q(e),children:typeof e.children=="function"?!0:e.children},r,$),{isFocused:f,isFocusVisible:v,focusProps:P}=fe(),R=t||r.isReadOnly,{hoverProps:y,isHovered:I}=ue({...e,isDisabled:R}),q=_({...e,defaultClassName:"react-aria-Radio",values:{isSelected:n,isPressed:o,isHovered:I,isFocused:f,isFocusVisible:v,isDisabled:t,isReadOnly:r.isReadOnly,isInvalid:r.isInvalid,isRequired:r.isRequired}}),g=N(e,{global:!0});return delete g.id,delete g.onClick,h.createElement("label",{...V(g,i,y,q),ref:d,"data-selected":n||void 0,"data-pressed":o||void 0,"data-hovered":I||void 0,"data-focused":f||void 0,"data-focus-visible":v||void 0,"data-disabled":t||void 0,"data-readonly":r.isReadOnly||void 0,"data-invalid":r.isInvalid||void 0,"data-required":r.isRequired||void 0},h.createElement(me,{elementType:"span"},h.createElement("input",{...V(s,P),ref:$})),h.createElement(oe.Provider,{value:{isSelected:n}},q.children))}),w=b.forwardRef((a,e)=>{const{className:d,label:l,secondaryLabel:c,description:r,isRequired:$,"aria-label":i,"aria-labelledby":s,children:n,...t}=a,{classNames:o}=k("RadioGroup");b.useEffect(()=>{!l&&!i&&!s&&console.warn("RadioGroup requires either a visible label, aria-label, or aria-labelledby for accessibility")},[l,i,s]);const f=c||($?"Required":null);return M.jsxs(De,{className:B(o.root,d),"aria-label":i,"aria-labelledby":s,...t,ref:e,children:[M.jsx(pe,{label:l,secondaryLabel:f,description:r}),M.jsx("div",{className:o.content,children:n}),M.jsx(le,{})]})});w.displayName="RadioGroup";const qe=b.forwardRef((a,e)=>{const{className:d,...l}=a,{classNames:c}=k("RadioGroup");return M.jsx(Ie,{className:B(c.radio,d),...l,ref:e})});w.displayName="RadioGroup";w.__docgenInfo={description:"@public",methods:[],displayName:"RadioGroup",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""}},composes:["Omit"]};qe.__docgenInfo={description:"@public",methods:[],displayName:"Radio",composes:["AriaRadioProps"]};export{w as R,qe as a};
