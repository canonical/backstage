import{a4 as d,ay as I,r as i,j as x}from"./iframe-DEJbD2oy.js";import{$ as j,a as _,b as B,c as F,d as k,e as A,f as V}from"./OverlayArrow-CdywQ3k0.js";import{i as W,a as T,c as q,h as K,$ as U,d as Z}from"./utils-CwP798Ad.js";import{b as w,c as L,a as Y,p as z,q as G,r as J}from"./useFocusRing-IYzfTN5l.js";import{c as Q}from"./clsx-B-dksMZM.js";import{u as X}from"./useStyles-DRxUPOZ5.js";const E=d.createContext(null);function ee(e){let{children:r}=e,t=i.useContext(E),[l,a]=i.useState(0),c=i.useMemo(()=>({parent:t,modalCount:l,addModal(){a(n=>n+1),t&&t.addModal()},removeModal(){a(n=>n-1),t&&t.removeModal()}}),[t,l]);return d.createElement(E.Provider,{value:c},r)}function te(){let e=i.useContext(E);return{modalProviderProps:{"aria-hidden":e&&e.modalCount>0?!0:void 0}}}function re(e){let{modalProviderProps:r}=te();return d.createElement("div",{"data-overlay-container":!0,...e,...r})}function oe(e){return d.createElement(ee,null,d.createElement(re,e))}function le(e){let r=W(),{portalContainer:t=r?null:document.body,...l}=e,{getContainer:a}=j();if(!e.portalContainer&&a&&(t=a()),d.useEffect(()=>{if(t?.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")},[t]),!t)return null;let c=d.createElement(oe,l);return I.createPortal(c,t)}function ne(e,r){let t=w(e,{labelable:!0}),{hoverProps:l}=L({onHoverStart:()=>r?.open(!0),onHoverEnd:()=>r?.close()});return{tooltipProps:T(t,l,{role:"tooltip"})}}function ae(e,r,t){let{isDisabled:l,trigger:a}=e,c=q(),n=i.useRef(!1),o=i.useRef(!1),s=()=>{(n.current||o.current)&&r.open(o.current)},$=h=>{!n.current&&!o.current&&r.close(h)};i.useEffect(()=>{let h=O=>{t&&t.current&&O.key==="Escape"&&(O.stopPropagation(),r.close(!0))};if(r.isOpen)return document.addEventListener("keydown",h,!0),()=>{document.removeEventListener("keydown",h,!0)}},[t,r]);let m=()=>{a!=="focus"&&(z()==="pointer"?n.current=!0:n.current=!1,s())},v=()=>{a!=="focus"&&(o.current=!1,n.current=!1,$())},g=()=>{o.current=!1,n.current=!1,$(!0)},C=()=>{G()&&(o.current=!0,s())},f=()=>{o.current=!1,n.current=!1,$(!0)},{hoverProps:N}=L({isDisabled:l,onHoverStart:m,onHoverEnd:v}),{focusableProps:H}=Y({isDisabled:l,onFocus:C,onBlur:f},t);return{triggerProps:{"aria-describedby":r.isOpen?c:void 0,...T(H,N,{onPointerDown:g,onKeyDown:g}),tabIndex:void 0},tooltipProps:{id:c}}}const ie=1500,R=500;let p={},ce=0,P=!1,u=null,b=null;function D(e={}){let{delay:r=ie,closeDelay:t=R}=e,{isOpen:l,open:a,close:c}=_(e),n=i.useMemo(()=>`${++ce}`,[]),o=i.useRef(null),s=i.useRef(c),$=()=>{p[n]=g},m=()=>{for(let f in p)f!==n&&(p[f](!0),delete p[f])},v=()=>{o.current&&clearTimeout(o.current),o.current=null,m(),$(),P=!0,a(),u&&(clearTimeout(u),u=null),b&&(clearTimeout(b),b=null)},g=f=>{f||t<=0?(o.current&&clearTimeout(o.current),o.current=null,s.current()):o.current||(o.current=setTimeout(()=>{o.current=null,s.current()},t)),u&&(clearTimeout(u),u=null),P&&(b&&clearTimeout(b),b=setTimeout(()=>{delete p[n],b=null,P=!1},Math.max(R,t)))},C=()=>{m(),$(),!l&&!u&&!P?u=setTimeout(()=>{u=null,P=!0,v()},r):l||v()};return i.useEffect(()=>{s.current=c},[c]),i.useEffect(()=>()=>{o.current&&clearTimeout(o.current),p[n]&&delete p[n]},[n]),{isOpen:l,open:f=>{!f&&r>0&&!o.current?C():v()},close:g}}const y=i.createContext(null),M=i.createContext(null);function de(e){let r=D(e),t=i.useRef(null),{triggerProps:l,tooltipProps:a}=ae(e,r,t);return d.createElement(K,{values:[[y,r],[M,{...a,triggerRef:t}]]},d.createElement(J,{...l,ref:t},e.children))}const se=i.forwardRef(function({UNSTABLE_portalContainer:r,...t},l){[t,l]=U(t,l,M);let a=i.useContext(y),c=D(t),n=t.isOpen!=null||t.defaultOpen!=null||!a?c:a,o=B(l,n.isOpen)||t.isExiting||!1;return!n.isOpen&&!o?null:d.createElement(le,{portalContainer:r},d.createElement(fe,{...t,tooltipRef:l,isExiting:o}))});function fe(e){let r=i.useContext(y),t=i.useRef(null),{overlayProps:l,arrowProps:a,placement:c,triggerAnchorPoint:n}=F({placement:e.placement||"top",targetRef:e.triggerRef,overlayRef:e.tooltipRef,arrowRef:t,offset:e.offset,crossOffset:e.crossOffset,isOpen:r.isOpen,arrowBoundaryOffset:e.arrowBoundaryOffset,shouldFlip:e.shouldFlip,containerPadding:e.containerPadding,onClose:()=>r.close(!0)}),o=k(e.tooltipRef,!!c)||e.isEntering||!1,s=Z({...e,defaultClassName:"react-aria-Tooltip",values:{placement:c,isEntering:o,isExiting:e.isExiting,state:r}});e=T(e,l);let{tooltipProps:$}=ne(e,r),m=w(e,{global:!0});return d.createElement("div",{...T(m,s,$),ref:e.tooltipRef,style:{...l.style,"--trigger-anchor-point":n?`${n.x}px ${n.y}px`:void 0,...s.style},"data-placement":c??void 0,"data-entering":o||void 0,"data-exiting":e.isExiting||void 0},d.createElement(A.Provider,{value:{...a,placement:c,ref:t}},s.children))}const ue=e=>{const{delay:r=600}=e;return x.jsx(de,{delay:r,...e})},S=i.forwardRef(({className:e,children:r,...t},l)=>{const{classNames:a}=X("Tooltip");return x.jsxs(se,{className:Q(a.tooltip,e),...t,ref:l,children:[x.jsx(V,{className:a.arrow,children:x.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[x.jsx("path",{d:"M10.3356 7.39793L15.1924 3.02682C15.9269 2.36577 16.8801 2 17.8683 2H20V7.94781e-07L1.74846e-07 -9.53674e-07L0 2L1.4651 2C2.4532 2 3.4064 2.36577 4.1409 3.02682L8.9977 7.39793C9.378 7.7402 9.9553 7.74021 10.3356 7.39793Z"}),x.jsx("path",{d:"M11.0046 8.14124C10.2439 8.82575 9.08939 8.82578 8.32869 8.14122L3.47189 3.77011C2.92109 3.27432 2.20619 2.99999 1.46509 2.99999L4.10999 3L8.99769 7.39793C9.37799 7.7402 9.95529 7.7402 10.3356 7.39793L15.2226 3L17.8683 2.99999C17.1271 2.99999 16.4122 3.27432 15.8614 3.77011L11.0046 8.14124Z"})]})}),r]})});S.displayName="Tooltip";ue.__docgenInfo={description:"@public",methods:[],displayName:"TooltipTrigger"};S.__docgenInfo={description:"@public",methods:[],displayName:"Tooltip",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}},composes:["Omit"]};export{ue as T,S as a};
